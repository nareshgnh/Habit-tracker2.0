<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Habit Tracker - Fresh Start</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Basic Loading Styles */
      #loading-overlay {
        position: fixed;
        inset: 0;
        background: rgba(255, 255, 255, 0.85);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 10000;
        font-size: 1.5em;
        color: #444;
        transition: opacity 0.3s ease-out;
      }
      #loading-overlay.hidden {
        opacity: 0;
        pointer-events: none;
      }
    </style>
  </head>
  <body>
    <div id="loading-overlay">Loading Tracker...</div>

    <div class="app-container">
      <!-- ===== SIDEBAR ===== -->
      <aside class="sidebar">
        <!-- Add Habit -->
        <section class="card">
          <h2>Add Habit</h2>
          <div class="input-group">
            <input
              type="text"
              id="new-habit-name"
              placeholder="e.g., Exercise"
            />
            <button id="add-habit-button">Add</button>
          </div>
          <p id="add-habit-confirm" class="confirmation-message"></p>
        </section>

        <!-- Calendar -->
        <section class="card">
          <h2>Calendar</h2>
          <div class="calendar-nav">
            <button id="cal-prev-month" title="Previous Month"><</button>
            <span id="cal-month-year">Month Year</span>
            <button id="cal-next-month" title="Next Month">></button>
          </div>
          <div class="calendar-grid-header">
            <span>Sun</span><span>Mon</span><span>Tue</span><span>Wed</span
            ><span>Thu</span><span>Fri</span><span>Sat</span>
          </div>
          <div id="cal-grid-body" class="calendar-grid-body">
            <!-- Calendar day cells generated here -->
          </div>
        </section>

        <!-- Progress -->
        <section class="card">
          <h2>Progress for <span id="progress-for-date">Today</span></h2>
          <p id="progress-stats">0 / 0 Completed</p>
          <div class="progress-bar-container">
            <div id="progress-bar-inner"></div>
          </div>
        </section>
      </aside>

      <!-- ===== MAIN CONTENT ===== -->
      <main class="main-content">
        <header class="main-header">
          <h1>Tasks for <span id="selected-date-header">Today</span></h1>
          <button id="manage-habits-button">Manage</button>
          <button id="done-managing-button" class="hidden">Done</button>
        </header>

        <!-- To Do List -->
        <section class="habit-list-section">
          <h3>To Do</h3>
          <ul id="todo-habit-list" class="habit-list">
            <!-- Habit items appear here -->
          </ul>
          <p id="no-todo-msg" class="empty-list-msg hidden">
            Nothing left for this day!
          </p>
        </section>

        <!-- Completed List -->
        <section class="habit-list-section">
          <h3>Completed</h3>
          <ul id="completed-habit-list" class="habit-list">
            <!-- Completed habit items appear here -->
          </ul>
          <p id="no-completed-msg" class="empty-list-msg hidden">
            No tasks completed yet.
          </p>
        </section>

        <p id="no-habits-msg" class="empty-list-msg hidden">
          Add your first habit using the sidebar!
        </p>
      </main>
    </div>

    <script src="script.js"></script>
  </body>
</html>
